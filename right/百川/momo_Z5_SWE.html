<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Momo_vanish_Z5_SWEmin</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      margin: 0;
      padding: 0;
      background: #f4f4f4;
    }
    .page-wrapper {
      padding: 10px 20px 20px 20px;
    }
    .top-row {
      display: flex;
      flex-direction: row;
      align-items: stretch;
    }
    #plotArea {
      flex: 1 1 auto;
      min-width: 0;
      height: 80vh;
    }
    #plot {
      width: 100%;
      height: 100%;
    }
    #trialPanel {
      width: 120px;
      padding-left: 10px;
      display: flex;
      flex-direction: column;
      gap: 8px;
      align-items: flex-start;
      justify-content: flex-start;
    }
    .trial-btn {
      width: 100%;
      padding: 6px 4px;
      margin: 0;
      border-radius: 6px;
      border: 1px solid #1976d2;
      background: #fff;
      color: #1976d2;
      cursor: pointer;
      font-size: 13px;
    }
    .trial-btn.active {
      background: #1976d2;
      color: #fff;
    }
    #bottomPanel {
      margin-top: 10px;
      padding: 8px 10px;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      display: flex;
      flex-direction: column;
      gap: 6px;
    }
    #frameSlider {
      width: 100%;
    }
    #frameLabel {
      font-size: 14px;
    }
  </style>
</head>
<body>
  <div class="page-wrapper">
    <div class="top-row">
      <div id="plotArea">
        <div id="plot"></div>
      </div>
      <div id="trialPanel">
        <div style="font-weight:bold; margin-bottom:4px;">Trial</div>
        <button class="trial-btn" id="trialBtn_1" data-trial="1">1球目</button>
          <button class="trial-btn" id="trialBtn_2" data-trial="2">2球目</button>
          <button class="trial-btn" id="trialBtn_3" data-trial="3">3球目</button>
      </div>
    </div>
    <div id="bottomPanel">
      <div id="frameLabel">Frame:</div>
      <input type="range" id="frameSlider" min="0" max="0" value="0" step="1">
    </div>
  </div>

  <script>
    // Python から渡された Figure & Trial 情報
    const fig = {"data": [{"legendgroup": "StrikeZone", "line": {"color": "blue", "width": 3}, "mode": "lines", "name": "SZ Bottom", "showlegend": true, "x": [0.3002845, 0.3002845, 0.150155, 2.548099e-05, 0.150155, 0.3002845], "y": [0.150414, -0.150414, -0.150414, -0.0, 0.150414, 0.150414], "z": [-0.4695162, -0.4695162, -0.4695162, -0.4695162, -0.4695162, -0.4695162], "type": "scatter3d"}, {"legendgroup": "StrikeZone", "line": {"color": "blue", "width": 3}, "mode": "lines", "name": "SZ Top", "showlegend": true, "x": [0.3002845, 0.3002845, 0.150155, 2.548099e-05, 0.150155, 0.3002845], "y": [0.150414, -0.150414, -0.150414, -0.0, 0.150414, 0.150414], "z": [0.06407398, 0.06407398, 0.06407398, 0.06407398, 0.06407398, 0.06407398], "type": "scatter3d"}, {"legendgroup": "StrikeZone", "line": {"color": "blue", "width": 2.5}, "mode": "lines", "name": "SZ Side", "opacity": 0.3, "showlegend": true, "x": [0.3002845, 0.3002845], "y": [0.150414, 0.150414], "z": [-0.4695162, 0.06407398], "type": "scatter3d"}, {"legendgroup": "StrikeZone", "line": {"color": "blue", "width": 2.5}, "mode": "lines", "opacity": 0.3, "showlegend": false, "x": [0.3002845, 0.3002845], "y": [-0.150414, -0.150414], "z": [-0.4695162, 0.06407398], "type": "scatter3d"}, {"legendgroup": "StrikeZone", "line": {"color": "blue", "width": 2.5}, "mode": "lines", "opacity": 0.3, "showlegend": false, "x": [0.150155, 0.150155], "y": [-0.150414, -0.150414], "z": [-0.4695162, 0.06407398], "type": "scatter3d"}, {"legendgroup": "StrikeZone", "line": {"color": "blue", "width": 2.5}, "mode": "lines", "opacity": 0.3, "showlegend": false, "x": [2.548099e-05, 2.548099e-05], "y": [-0.0, -0.0], "z": [-0.4695162, 0.06407398], "type": "scatter3d"}, {"legendgroup": "StrikeZone", "line": {"color": "blue", "width": 2.5}, "mode": "lines", "opacity": 0.3, "showlegend": false, "x": [0.150155, 0.150155], "y": [0.150414, 0.150414], "z": [-0.4695162, 0.06407398], "type": "scatter3d"}, {"legendgroup": "StrikeZone", "marker": {"color": "white", "line": {"color": "blue", "width": 1}, "size": 5}, "mode": "markers+text", "name": "NineGrid", "showlegend": false, "text": ["Z1", "Z2", "Z3", "Z4", "Z5", "Z6", "Z7", "Z8", "Z9"], "textposition": "top center", "x": [0.3002845, 0.3002845, 0.3002845, 0.3002845, 0.3002845, 0.3002845, 0.3002845, 0.3002845, 0.3002845], "y": [0.100276, -0.0, -0.100276, 0.100276, -0.0, -0.100276, 0.100276, -0.0, -0.100276], "z": [-0.0248577, -0.0248577, -0.0248577, -0.2027211, -0.2027211, -0.2027211, -0.3805845, -0.3805845, -0.3805845], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "black", "width": 4}, "mode": "lines", "name": "Bat", "showlegend": true, "x": [0.214600473642349, 0.189992725849152], "y": [-0.0525694712996483, 0.650020062923431], "z": [-0.219040974974632, 0.16274805366993], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "white", "line": {"color": "red", "width": 3}, "size": 10, "symbol": "circle"}, "mode": "markers", "name": "BOTTOM", "showlegend": true, "x": [0.189992725849152], "y": [0.650020062923431], "z": [0.16274805366993], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "orange", "size": 7}, "mode": "markers", "name": "Sweet Spot", "showlegend": true, "x": [0.21152450626700348], "y": [0.03525418910566737], "z": [-0.17131736344199966], "type": "scatter3d"}, {"legendgroup": "Ball", "marker": {"color": "blue", "size": 7, "symbol": "x"}, "mode": "markers", "name": "Ball", "showlegend": true, "x": [0.154346406459808], "y": [-0.0], "z": [-0.202721118927002], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "purple", "dash": "dash", "width": 3}, "mode": "lines", "name": "S\u2192P", "showlegend": true, "x": [0.21152450626700348, 0.154346406459808], "y": [0.03525418910566737, -0.0], "z": [-0.17131736344199966, -0.202721118927002], "type": "scatter3d"}], "layout": {"template": {"data": {"histogram2dcontour": [{"type": "histogram2dcontour", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "choropleth": [{"type": "choropleth", "colorbar": {"outlinewidth": 0, "ticks": ""}}], "histogram2d": [{"type": "histogram2d", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "heatmap": [{"type": "heatmap", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "heatmapgl": [{"type": "heatmapgl", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "contourcarpet": [{"type": "contourcarpet", "colorbar": {"outlinewidth": 0, "ticks": ""}}], "contour": [{"type": "contour", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "surface": [{"type": "surface", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "mesh3d": [{"type": "mesh3d", "colorbar": {"outlinewidth": 0, "ticks": ""}}], "scatter": [{"fillpattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}, "type": "scatter"}], "parcoords": [{"type": "parcoords", "line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatterpolargl": [{"type": "scatterpolargl", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}, "pattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}}, "type": "bar"}], "scattergeo": [{"type": "scattergeo", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatterpolar": [{"type": "scatterpolar", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "histogram": [{"marker": {"pattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}}, "type": "histogram"}], "scattergl": [{"type": "scattergl", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatter3d": [{"type": "scatter3d", "line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scattermapbox": [{"type": "scattermapbox", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatterternary": [{"type": "scatterternary", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scattercarpet": [{"type": "scattercarpet", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}, "pattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}}, "type": "barpolar"}], "pie": [{"automargin": true, "type": "pie"}]}, "layout": {"autotypenumbers": "strict", "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "hovermode": "closest", "hoverlabel": {"align": "left"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"bgcolor": "#E5ECF6", "angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "ternary": {"bgcolor": "#E5ECF6", "aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]]}, "xaxis": {"gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "automargin": true, "zerolinewidth": 2}, "yaxis": {"gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "automargin": true, "zerolinewidth": 2}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white", "gridwidth": 2}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white", "gridwidth": 2}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white", "gridwidth": 2}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "geo": {"bgcolor": "white", "landcolor": "#E5ECF6", "subunitcolor": "white", "showland": true, "showlakes": true, "lakecolor": "white"}, "title": {"x": 0.05}, "mapbox": {"style": "light"}}}, "scene": {"camera": {"eye": {"x": 1.6, "y": 1.6, "z": 1.0}, "center": {"x": 0, "y": 0, "z": 0}, "up": {"x": 0, "y": 0, "z": 1}}, "xaxis": {"title": {"text": "\u6a2a Z [m]"}}, "yaxis": {"title": {"text": "\u5965\u884c X [m]"}}, "zaxis": {"title": {"text": "\u7e26 Y [m]"}}, "aspectmode": "data"}, "margin": {"l": 0, "r": 0, "t": 60, "b": 100}, "legend": {"itemsizing": "constant", "groupclick": "togglegroup"}, "title": {"text": "Z5 (Z5) / trial 1 / index -1 (MIN=-1)  |  offset=10 cm from TOP"}, "uirevision": "keep_camera"}, "frames": [{"data": [{"legendgroup": "Bat", "line": {"color": "black", "width": 4}, "mode": "lines", "showlegend": false, "x": [-0.769957363605499, -0.0325945429503918], "y": [0.421121597290039, 0.112286150455475], "z": [0.0228534694761038, -0.00742275500670075], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "white", "line": {"color": "red", "width": 3}, "size": 10, "symbol": "circle"}, "mode": "markers", "showlegend": false, "x": [-0.0325945429503918], "y": [0.112286150455475], "z": [-0.00742275500670075], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "orange", "size": 7}, "mode": "markers", "showlegend": false, "x": [-0.6777870047066928], "y": [0.3825171637899543], "z": [0.01906894115637967], "type": "scatter3d"}, {"legendgroup": "Ball", "marker": {"color": "blue", "size": 7, "symbol": "x"}, "mode": "markers", "showlegend": false, "x": [0.154346406459808], "y": [-0.0], "z": [-0.202721118927002], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "purple", "dash": "dash", "width": 3}, "mode": "lines", "showlegend": false, "x": [-0.6777870047066928, 0.154346406459808], "y": [0.3825171637899543, -0.0], "z": [0.01906894115637967, -0.202721118927002], "type": "scatter3d"}], "layout": {"title": {"text": "Z5 (Z5) / trial 1 / index -6  |  offset=10 cm from TOP"}}, "name": "T1_I-6", "traces": [8, 9, 10, 11, 12]}, {"data": [{"legendgroup": "Bat", "line": {"color": "black", "width": 4}, "mode": "lines", "showlegend": false, "x": [-0.680790841579437, 0.105326443910599], "y": [0.232645452022552, 0.255448549985886], "z": [-0.0921592265367508, 0.0544679276645184], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "white", "line": {"color": "red", "width": 3}, "size": 10, "symbol": "circle"}, "mode": "markers", "showlegend": false, "x": [0.105326443910599], "y": [0.255448549985886], "z": [0.0544679276645184], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "orange", "size": 7}, "mode": "markers", "showlegend": false, "x": [-0.582526172461775], "y": [0.23549583951254066], "z": [-0.07383083068896003], "type": "scatter3d"}, {"legendgroup": "Ball", "marker": {"color": "blue", "size": 7, "symbol": "x"}, "mode": "markers", "showlegend": false, "x": [0.154346406459808], "y": [-0.0], "z": [-0.202721118927002], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "purple", "dash": "dash", "width": 3}, "mode": "lines", "showlegend": false, "x": [-0.582526172461775, 0.154346406459808], "y": [0.23549583951254066, -0.0], "z": [-0.07383083068896003, -0.202721118927002], "type": "scatter3d"}], "layout": {"title": {"text": "Z5 (Z5) / trial 1 / index -5  |  offset=10 cm from TOP"}}, "name": "T1_I-5", "traces": [8, 9, 10, 11, 12]}, {"data": [{"legendgroup": "Bat", "line": {"color": "black", "width": 4}, "mode": "lines", "showlegend": false, "x": [-0.537631332874298, 0.183508843183517], "y": [0.0900382995605469, 0.340428411960602], "z": [-0.155823826789856, 0.0834708660840988], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "white", "line": {"color": "red", "width": 3}, "size": 10, "symbol": "circle"}, "mode": "markers", "showlegend": false, "x": [0.183508843183517], "y": [0.340428411960602], "z": [0.0834708660840988], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "orange", "size": 7}, "mode": "markers", "showlegend": false, "x": [-0.44748883283578506], "y": [0.12133705598270425], "z": [-0.12591199747045187], "type": "scatter3d"}, {"legendgroup": "Ball", "marker": {"color": "blue", "size": 7, "symbol": "x"}, "mode": "markers", "showlegend": false, "x": [0.154346406459808], "y": [-0.0], "z": [-0.202721118927002], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "purple", "dash": "dash", "width": 3}, "mode": "lines", "showlegend": false, "x": [-0.44748883283578506, 0.154346406459808], "y": [0.12133705598270425, -0.0], "z": [-0.12591199747045187, -0.202721118927002], "type": "scatter3d"}], "layout": {"title": {"text": "Z5 (Z5) / trial 1 / index -4  |  offset=10 cm from TOP"}}, "name": "T1_I-4", "traces": [8, 9, 10, 11, 12]}, {"data": [{"legendgroup": "Bat", "line": {"color": "black", "width": 4}, "mode": "lines", "showlegend": false, "x": [-0.318699866533279, 0.23973736166954], "y": [-0.0221211314201355, 0.440899074077606], "z": [-0.222655847668648, 0.114628188312054], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "white", "line": {"color": "red", "width": 3}, "size": 10, "symbol": "circle"}, "mode": "markers", "showlegend": false, "x": [0.23973736166954], "y": [0.440899074077606], "z": [0.114628188312054], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "orange", "size": 7}, "mode": "markers", "showlegend": false, "x": [-0.24889523315689202], "y": [0.03575637756085695], "z": [-0.18049535534060057], "type": "scatter3d"}, {"legendgroup": "Ball", "marker": {"color": "blue", "size": 7, "symbol": "x"}, "mode": "markers", "showlegend": false, "x": [0.154346406459808], "y": [-0.0], "z": [-0.202721118927002], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "purple", "dash": "dash", "width": 3}, "mode": "lines", "showlegend": false, "x": [-0.24889523315689202, 0.154346406459808], "y": [0.03575637756085695, -0.0], "z": [-0.18049535534060057, -0.202721118927002], "type": "scatter3d"}], "layout": {"title": {"text": "Z5 (Z5) / trial 1 / index -3  |  offset=10 cm from TOP"}}, "name": "T1_I-3", "traces": [8, 9, 10, 11, 12]}, {"data": [{"legendgroup": "Bat", "line": {"color": "black", "width": 4}, "mode": "lines", "showlegend": false, "x": [-0.065392479300499, 0.205454036593437], "y": [-0.106705322861671, 0.564942181110382], "z": [-0.197240725159645, 0.14265950024128], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "white", "line": {"color": "red", "width": 3}, "size": 10, "symbol": "circle"}, "mode": "markers", "showlegend": false, "x": [0.205454036593437], "y": [0.564942181110382], "z": [0.14265950024128], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "orange", "size": 7}, "mode": "markers", "showlegend": false, "x": [-0.031536674547071285], "y": [-0.022749409001920268], "z": [-0.15475320919940208], "type": "scatter3d"}, {"legendgroup": "Ball", "marker": {"color": "blue", "size": 7, "symbol": "x"}, "mode": "markers", "showlegend": false, "x": [0.154346406459808], "y": [-0.0], "z": [-0.202721118927002], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "purple", "dash": "dash", "width": 3}, "mode": "lines", "showlegend": false, "x": [-0.031536674547071285, 0.154346406459808], "y": [-0.022749409001920268, -0.0], "z": [-0.15475320919940208, -0.202721118927002], "type": "scatter3d"}], "layout": {"title": {"text": "Z5 (Z5) / trial 1 / index -2  |  offset=10 cm from TOP"}}, "name": "T1_I-2", "traces": [8, 9, 10, 11, 12]}, {"data": [{"legendgroup": "Bat", "line": {"color": "black", "width": 4}, "mode": "lines", "showlegend": false, "x": [0.214600473642349, 0.189992725849152], "y": [-0.0525694712996483, 0.650020062923431], "z": [-0.219040974974632, 0.16274805366993], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "white", "line": {"color": "red", "width": 3}, "size": 10, "symbol": "circle"}, "mode": "markers", "showlegend": false, "x": [0.189992725849152], "y": [0.650020062923431], "z": [0.16274805366993], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "orange", "size": 7}, "mode": "markers", "showlegend": false, "x": [0.21152450626700348], "y": [0.03525418910566737], "z": [-0.17131736344199966], "type": "scatter3d"}, {"legendgroup": "Ball", "marker": {"color": "blue", "size": 7, "symbol": "x"}, "mode": "markers", "showlegend": false, "x": [0.154346406459808], "y": [-0.0], "z": [-0.202721118927002], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "purple", "dash": "dash", "width": 3}, "mode": "lines", "showlegend": false, "x": [0.21152450626700348, 0.154346406459808], "y": [0.03525418910566737, -0.0], "z": [-0.17131736344199966, -0.202721118927002], "type": "scatter3d"}], "layout": {"title": {"text": "Z5 (Z5) / trial 1 / index -1 (MIN)  |  offset=10 cm from TOP"}}, "name": "T1_I-1", "traces": [8, 9, 10, 11, 12]}, {"data": [{"legendgroup": "Bat", "line": {"color": "black", "width": 4}, "mode": "lines", "showlegend": false, "x": [0.214600473642349, 0.189992725849152], "y": [-0.0525694712996483, 0.650020062923431], "z": [-0.219040974974632, 0.16274805366993], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "white", "line": {"color": "red", "width": 3}, "size": 10, "symbol": "circle"}, "mode": "markers", "showlegend": false, "x": [0.189992725849152], "y": [0.650020062923431], "z": [0.16274805366993], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "orange", "size": 7}, "mode": "markers", "showlegend": false, "x": [0.21152450626700348], "y": [0.03525418910566737], "z": [-0.17131736344199966], "type": "scatter3d"}, {"legendgroup": "Ball", "marker": {"color": "blue", "size": 7, "symbol": "x"}, "mode": "markers", "showlegend": false, "x": [0.154346406459808], "y": [-0.0], "z": [-0.202721118927002], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "purple", "dash": "dash", "width": 3}, "mode": "lines", "showlegend": false, "x": [0.21152450626700348, 0.154346406459808], "y": [0.03525418910566737, -0.0], "z": [-0.17131736344199966, -0.202721118927002], "type": "scatter3d"}], "layout": {"title": {"text": "Z5 (Z5) / trial 1 / index 0  |  offset=10 cm from TOP"}}, "name": "T1_I0", "traces": [8, 9, 10, 11, 12]}, {"data": [{"legendgroup": "Bat", "line": {"color": "black", "width": 4}, "mode": "lines", "showlegend": false, "x": [0.477428615093231, 0.0981746464967728], "y": [0.0282808281481266, 0.671269416809082], "z": [-0.135831981897354, 0.151800274848938], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "white", "line": {"color": "red", "width": 3}, "size": 10, "symbol": "circle"}, "mode": "markers", "showlegend": false, "x": [0.0981746464967728], "y": [0.671269416809082], "z": [0.151800274848938], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "orange", "size": 7}, "mode": "markers", "showlegend": false, "x": [0.4300218769061667], "y": [0.10865438835826105], "z": [-0.09987795578606795], "type": "scatter3d"}, {"legendgroup": "Ball", "marker": {"color": "blue", "size": 7, "symbol": "x"}, "mode": "markers", "showlegend": false, "x": [0.154346406459808], "y": [-0.0], "z": [-0.202721118927002], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "purple", "dash": "dash", "width": 3}, "mode": "lines", "showlegend": false, "x": [0.4300218769061667, 0.154346406459808], "y": [0.10865438835826105, -0.0], "z": [-0.09987795578606795, -0.202721118927002], "type": "scatter3d"}], "layout": {"title": {"text": "Z5 (Z5) / trial 1 / index 1  |  offset=10 cm from TOP"}}, "name": "T1_I1", "traces": [8, 9, 10, 11, 12]}, {"data": [{"legendgroup": "Bat", "line": {"color": "black", "width": 4}, "mode": "lines", "showlegend": false, "x": [0.663357198238373, 0.0510784313082695], "y": [0.223705351352692, 0.679491281509399], "z": [-0.100202776491642, 0.139326736330986], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "white", "line": {"color": "red", "width": 3}, "size": 10, "symbol": "circle"}, "mode": "markers", "showlegend": false, "x": [0.0510784313082695], "y": [0.679491281509399], "z": [0.139326736330986], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "orange", "size": 7}, "mode": "markers", "showlegend": false, "x": [0.5868223816750918], "y": [0.280678570808872], "z": [-0.07026159885242994], "type": "scatter3d"}, {"legendgroup": "Ball", "marker": {"color": "blue", "size": 7, "symbol": "x"}, "mode": "markers", "showlegend": false, "x": [0.154346406459808], "y": [-0.0], "z": [-0.202721118927002], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "purple", "dash": "dash", "width": 3}, "mode": "lines", "showlegend": false, "x": [0.5868223816750918, 0.154346406459808], "y": [0.280678570808872, -0.0], "z": [-0.07026159885242994, -0.202721118927002], "type": "scatter3d"}], "layout": {"title": {"text": "Z5 (Z5) / trial 1 / index 2  |  offset=10 cm from TOP"}}, "name": "T1_I2", "traces": [8, 9, 10, 11, 12]}, {"data": [{"legendgroup": "Bat", "line": {"color": "black", "width": 4}, "mode": "lines", "showlegend": false, "x": [0.77832967042923, 0.000336594879627228], "y": [0.431815803050995, 0.605700790882111], "z": [0.0280767735093832, 0.0950892567634583], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "white", "line": {"color": "red", "width": 3}, "size": 10, "symbol": "circle"}, "mode": "markers", "showlegend": false, "x": [0.000336594879627228], "y": [0.605700790882111], "z": [0.0950892567634583], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "orange", "size": 7}, "mode": "markers", "showlegend": false, "x": [0.6810805274388517], "y": [0.4535514284401058], "z": [0.03645333465231124], "type": "scatter3d"}, {"legendgroup": "Ball", "marker": {"color": "blue", "size": 7, "symbol": "x"}, "mode": "markers", "showlegend": false, "x": [0.154346406459808], "y": [-0.0], "z": [-0.202721118927002], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "purple", "dash": "dash", "width": 3}, "mode": "lines", "showlegend": false, "x": [0.6810805274388517, 0.154346406459808], "y": [0.4535514284401058, -0.0], "z": [0.03645333465231124, -0.202721118927002], "type": "scatter3d"}], "layout": {"title": {"text": "Z5 (Z5) / trial 1 / index 3  |  offset=10 cm from TOP"}}, "name": "T1_I3", "traces": [8, 9, 10, 11, 12]}, {"data": [{"legendgroup": "Bat", "line": {"color": "black", "width": 4}, "mode": "lines", "showlegend": false, "x": [0.760325253009796, -0.0121590383350849], "y": [0.726596713066101, 0.54145622253418], "z": [0.15834653377533, 0.0635258033871651], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "white", "line": {"color": "red", "width": 3}, "size": 10, "symbol": "circle"}, "mode": "markers", "showlegend": false, "x": [-0.0121590383350849], "y": [0.54145622253418], "z": [0.0635258033871651], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "orange", "size": 7}, "mode": "markers", "showlegend": false, "x": [0.6637647130099196], "y": [0.7034541508911727], "z": [0.14649394203715554], "type": "scatter3d"}, {"legendgroup": "Ball", "marker": {"color": "blue", "size": 7, "symbol": "x"}, "mode": "markers", "showlegend": false, "x": [0.154346406459808], "y": [-0.0], "z": [-0.202721118927002], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "purple", "dash": "dash", "width": 3}, "mode": "lines", "showlegend": false, "x": [0.6637647130099196, 0.154346406459808], "y": [0.7034541508911727, -0.0], "z": [0.14649394203715554, -0.202721118927002], "type": "scatter3d"}], "layout": {"title": {"text": "Z5 (Z5) / trial 1 / index 4  |  offset=10 cm from TOP"}}, "name": "T1_I4", "traces": [8, 9, 10, 11, 12]}, {"data": [{"legendgroup": "Bat", "line": {"color": "black", "width": 4}, "mode": "lines", "showlegend": false, "x": [-0.790616869926453, -0.0361465811729431], "y": [0.455747604370117, 0.193785980343819], "z": [0.0546773597598076, 0.00830136984586716], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "white", "line": {"color": "red", "width": 3}, "size": 10, "symbol": "circle"}, "mode": "markers", "showlegend": false, "x": [-0.0361465811729431], "y": [0.193785980343819], "z": [0.00830136984586716], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "orange", "size": 7}, "mode": "markers", "showlegend": false, "x": [-0.6963080868910221], "y": [0.42300240242886916], "z": [0.04888036120858162], "type": "scatter3d"}, {"legendgroup": "Ball", "marker": {"color": "blue", "size": 7, "symbol": "x"}, "mode": "markers", "showlegend": false, "x": [0.154346406459808], "y": [-0.0], "z": [-0.202721118927002], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "purple", "dash": "dash", "width": 3}, "mode": "lines", "showlegend": false, "x": [-0.6963080868910221, 0.154346406459808], "y": [0.42300240242886916, -0.0], "z": [0.04888036120858162, -0.202721118927002], "type": "scatter3d"}], "layout": {"title": {"text": "Z5 (Z5) / trial 2 / index -6  |  offset=10 cm from TOP"}}, "name": "T2_I-6", "traces": [8, 9, 10, 11, 12]}, {"data": [{"legendgroup": "Bat", "line": {"color": "black", "width": 4}, "mode": "lines", "showlegend": false, "x": [-0.722402274608612, 0.0706217736005783], "y": [0.308204025030136, 0.239627569913864], "z": [-0.0384548492729664, 0.0416090004146099], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "white", "line": {"color": "red", "width": 3}, "size": 10, "symbol": "circle"}, "mode": "markers", "showlegend": false, "x": [0.0706217736005783], "y": [0.239627569913864], "z": [0.0416090004146099], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "orange", "size": 7}, "mode": "markers", "showlegend": false, "x": [-0.6232742756500724], "y": [0.29963196875177084], "z": [-0.02844686877556646], "type": "scatter3d"}, {"legendgroup": "Ball", "marker": {"color": "blue", "size": 7, "symbol": "x"}, "mode": "markers", "showlegend": false, "x": [0.154346406459808], "y": [-0.0], "z": [-0.202721118927002], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "purple", "dash": "dash", "width": 3}, "mode": "lines", "showlegend": false, "x": [-0.6232742756500724, 0.154346406459808], "y": [0.29963196875177084, -0.0], "z": [-0.02844686877556646, -0.202721118927002], "type": "scatter3d"}], "layout": {"title": {"text": "Z5 (Z5) / trial 2 / index -5  |  offset=10 cm from TOP"}}, "name": "T2_I-5", "traces": [8, 9, 10, 11, 12]}, {"data": [{"legendgroup": "Bat", "line": {"color": "black", "width": 4}, "mode": "lines", "showlegend": false, "x": [-0.591274619102478, 0.15059420466423], "y": [0.164344906806946, 0.354755461215973], "z": [-0.133221924304962, 0.0978077799081802], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "white", "line": {"color": "red", "width": 3}, "size": 10, "symbol": "circle"}, "mode": "markers", "showlegend": false, "x": [0.15059420466423], "y": [0.354755461215973], "z": [0.0978077799081802], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "orange", "size": 7}, "mode": "markers", "showlegend": false, "x": [-0.49854103461577126], "y": [0.18814622136387477], "z": [-0.10434321703457067], "type": "scatter3d"}, {"legendgroup": "Ball", "marker": {"color": "blue", "size": 7, "symbol": "x"}, "mode": "markers", "showlegend": false, "x": [0.154346406459808], "y": [-0.0], "z": [-0.202721118927002], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "purple", "dash": "dash", "width": 3}, "mode": "lines", "showlegend": false, "x": [-0.49854103461577126, 0.154346406459808], "y": [0.18814622136387477, -0.0], "z": [-0.10434321703457067, -0.202721118927002], "type": "scatter3d"}], "layout": {"title": {"text": "Z5 (Z5) / trial 2 / index -4  |  offset=10 cm from TOP"}}, "name": "T2_I-4", "traces": [8, 9, 10, 11, 12]}, {"data": [{"legendgroup": "Bat", "line": {"color": "black", "width": 4}, "mode": "lines", "showlegend": false, "x": [-0.38452011346817, 0.20499974489212], "y": [0.0474283993244171, 0.452670246362686], "z": [-0.217196509242058, 0.140916928648949], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "white", "line": {"color": "red", "width": 3}, "size": 10, "symbol": "circle"}, "mode": "markers", "showlegend": false, "x": [0.20499974489212], "y": [0.452670246362686], "z": [0.140916928648949], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "orange", "size": 7}, "mode": "markers", "showlegend": false, "x": [-0.31083012267519433], "y": [0.09808363604576928], "z": [-0.17243232434347042], "type": "scatter3d"}, {"legendgroup": "Ball", "marker": {"color": "blue", "size": 7, "symbol": "x"}, "mode": "markers", "showlegend": false, "x": [0.154346406459808], "y": [-0.0], "z": [-0.202721118927002], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "purple", "dash": "dash", "width": 3}, "mode": "lines", "showlegend": false, "x": [-0.31083012267519433, 0.154346406459808], "y": [0.09808363604576928, -0.0], "z": [-0.17243232434347042, -0.202721118927002], "type": "scatter3d"}], "layout": {"title": {"text": "Z5 (Z5) / trial 2 / index -3  |  offset=10 cm from TOP"}}, "name": "T2_I-3", "traces": [8, 9, 10, 11, 12]}, {"data": [{"legendgroup": "Bat", "line": {"color": "black", "width": 4}, "mode": "lines", "showlegend": false, "x": [-0.119726836681366, 0.229167759418488], "y": [-0.0143879652023315, 0.556211471557617], "z": [-0.257840782403946, 0.18112251162529], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "white", "line": {"color": "red", "width": 3}, "size": 10, "symbol": "circle"}, "mode": "markers", "showlegend": false, "x": [0.229167759418488], "y": [0.556211471557617], "z": [0.18112251162529], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "orange", "size": 7}, "mode": "markers", "showlegend": false, "x": [-0.07611500978125414], "y": [0.05693696829751013], "z": [-0.202970367646284], "type": "scatter3d"}, {"legendgroup": "Ball", "marker": {"color": "blue", "size": 7, "symbol": "x"}, "mode": "markers", "showlegend": false, "x": [0.154346406459808], "y": [-0.0], "z": [-0.202721118927002], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "purple", "dash": "dash", "width": 3}, "mode": "lines", "showlegend": false, "x": [-0.07611500978125414, 0.154346406459808], "y": [0.05693696829751013, -0.0], "z": [-0.202970367646284, -0.202721118927002], "type": "scatter3d"}], "layout": {"title": {"text": "Z5 (Z5) / trial 2 / index -2  |  offset=10 cm from TOP"}}, "name": "T2_I-2", "traces": [8, 9, 10, 11, 12]}, {"data": [{"legendgroup": "Bat", "line": {"color": "black", "width": 4}, "mode": "lines", "showlegend": false, "x": [0.176389411091805, 0.205042734742165], "y": [0.0105356313288212, 0.658423125743866], "z": [-0.25600528717041, 0.212418124079704], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "white", "line": {"color": "red", "width": 3}, "size": 10, "symbol": "circle"}, "mode": "markers", "showlegend": false, "x": [0.205042734742165], "y": [0.658423125743866], "z": [0.212418124079704], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "orange", "size": 7}, "mode": "markers", "showlegend": false, "x": [0.17997107735794055], "y": [0.09152158644220976], "z": [-0.1974523475249042], "type": "scatter3d"}, {"legendgroup": "Ball", "marker": {"color": "blue", "size": 7, "symbol": "x"}, "mode": "markers", "showlegend": false, "x": [0.154346406459808], "y": [-0.0], "z": [-0.202721118927002], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "purple", "dash": "dash", "width": 3}, "mode": "lines", "showlegend": false, "x": [0.17997107735794055, 0.154346406459808], "y": [0.09152158644220976, -0.0], "z": [-0.1974523475249042, -0.202721118927002], "type": "scatter3d"}], "layout": {"title": {"text": "Z5 (Z5) / trial 2 / index -1 (MIN)  |  offset=10 cm from TOP"}}, "name": "T2_I-1", "traces": [8, 9, 10, 11, 12]}, {"data": [{"legendgroup": "Bat", "line": {"color": "black", "width": 4}, "mode": "lines", "showlegend": false, "x": [0.176389411091805, 0.205042734742165], "y": [0.0105356313288212, 0.658423125743866], "z": [-0.25600528717041, 0.212418124079704], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "white", "line": {"color": "red", "width": 3}, "size": 10, "symbol": "circle"}, "mode": "markers", "showlegend": false, "x": [0.205042734742165], "y": [0.658423125743866], "z": [0.212418124079704], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "orange", "size": 7}, "mode": "markers", "showlegend": false, "x": [0.17997107735794055], "y": [0.09152158644220976], "z": [-0.1974523475249042], "type": "scatter3d"}, {"legendgroup": "Ball", "marker": {"color": "blue", "size": 7, "symbol": "x"}, "mode": "markers", "showlegend": false, "x": [0.154346406459808], "y": [-0.0], "z": [-0.202721118927002], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "purple", "dash": "dash", "width": 3}, "mode": "lines", "showlegend": false, "x": [0.17997107735794055, 0.154346406459808], "y": [0.09152158644220976, -0.0], "z": [-0.1974523475249042, -0.202721118927002], "type": "scatter3d"}], "layout": {"title": {"text": "Z5 (Z5) / trial 2 / index 0  |  offset=10 cm from TOP"}}, "name": "T2_I0", "traces": [8, 9, 10, 11, 12]}, {"data": [{"legendgroup": "Bat", "line": {"color": "black", "width": 4}, "mode": "lines", "showlegend": false, "x": [0.483118563890457, 0.242667943239212], "y": [0.178277969360352, 0.743972539901733], "z": [-0.262811005115509, 0.249217838048935], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "white", "line": {"color": "red", "width": 3}, "size": 10, "symbol": "circle"}, "mode": "markers", "showlegend": false, "x": [0.242667943239212], "y": [0.743972539901733], "z": [0.249217838048935], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "orange", "size": 7}, "mode": "markers", "showlegend": false, "x": [0.4530622453340205], "y": [0.24898976944549034], "z": [-0.19880741893822168], "type": "scatter3d"}, {"legendgroup": "Ball", "marker": {"color": "blue", "size": 7, "symbol": "x"}, "mode": "markers", "showlegend": false, "x": [0.154346406459808], "y": [-0.0], "z": [-0.202721118927002], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "purple", "dash": "dash", "width": 3}, "mode": "lines", "showlegend": false, "x": [0.4530622453340205, 0.154346406459808], "y": [0.24898976944549034, -0.0], "z": [-0.19880741893822168, -0.202721118927002], "type": "scatter3d"}], "layout": {"title": {"text": "Z5 (Z5) / trial 2 / index 1  |  offset=10 cm from TOP"}}, "name": "T2_I1", "traces": [8, 9, 10, 11, 12]}, {"data": [{"legendgroup": "Bat", "line": {"color": "black", "width": 4}, "mode": "lines", "showlegend": false, "x": [0.66206419467926, -0.00135887414216995], "y": [0.269325941801071, 0.635347425937653], "z": [-0.0860424041748047, 0.170663565397263], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "white", "line": {"color": "red", "width": 3}, "size": 10, "symbol": "circle"}, "mode": "markers", "showlegend": false, "x": [-0.00135887414216995], "y": [0.635347425937653], "z": [0.170663565397263], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "orange", "size": 7}, "mode": "markers", "showlegend": false, "x": [0.5791363013525029], "y": [0.3150786326830787], "z": [-0.05395415421564601], "type": "scatter3d"}, {"legendgroup": "Ball", "marker": {"color": "blue", "size": 7, "symbol": "x"}, "mode": "markers", "showlegend": false, "x": [0.154346406459808], "y": [-0.0], "z": [-0.202721118927002], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "purple", "dash": "dash", "width": 3}, "mode": "lines", "showlegend": false, "x": [0.5791363013525029, 0.154346406459808], "y": [0.3150786326830787, -0.0], "z": [-0.05395415421564601, -0.202721118927002], "type": "scatter3d"}], "layout": {"title": {"text": "Z5 (Z5) / trial 2 / index 2  |  offset=10 cm from TOP"}}, "name": "T2_I2", "traces": [8, 9, 10, 11, 12]}, {"data": [{"legendgroup": "Bat", "line": {"color": "black", "width": 4}, "mode": "lines", "showlegend": false, "x": [0.73706579208374, -0.0227459259331226], "y": [0.454096794128418, 0.608961343765259], "z": [-0.0424008779227734, 0.154329851269722], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "white", "line": {"color": "red", "width": 3}, "size": 10, "symbol": "circle"}, "mode": "markers", "showlegend": false, "x": [-0.0227459259331226], "y": [0.608961343765259], "z": [0.154329851269722], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "orange", "size": 7}, "mode": "markers", "showlegend": false, "x": [0.6420893166006676], "y": [0.47345486502020445], "z": [-0.017809533995246197], "type": "scatter3d"}, {"legendgroup": "Ball", "marker": {"color": "blue", "size": 7, "symbol": "x"}, "mode": "markers", "showlegend": false, "x": [0.154346406459808], "y": [-0.0], "z": [-0.202721118927002], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "purple", "dash": "dash", "width": 3}, "mode": "lines", "showlegend": false, "x": [0.6420893166006676, 0.154346406459808], "y": [0.47345486502020445, -0.0], "z": [-0.017809533995246197, -0.202721118927002], "type": "scatter3d"}], "layout": {"title": {"text": "Z5 (Z5) / trial 2 / index 3  |  offset=10 cm from TOP"}}, "name": "T2_I3", "traces": [8, 9, 10, 11, 12]}, {"data": [{"legendgroup": "Bat", "line": {"color": "black", "width": 4}, "mode": "lines", "showlegend": false, "x": [0.762375593185425, -0.028732605278492], "y": [0.649362325668335, 0.548009514808655], "z": [0.065523736178875, 0.127779901027679], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "white", "line": {"color": "red", "width": 3}, "size": 10, "symbol": "circle"}, "mode": "markers", "showlegend": false, "x": [-0.028732605278492], "y": [0.548009514808655], "z": [0.127779901027679], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "orange", "size": 7}, "mode": "markers", "showlegend": false, "x": [0.6634870995897033], "y": [0.636693228309634], "z": [0.07330575432872981], "type": "scatter3d"}, {"legendgroup": "Ball", "marker": {"color": "blue", "size": 7, "symbol": "x"}, "mode": "markers", "showlegend": false, "x": [0.154346406459808], "y": [-0.0], "z": [-0.202721118927002], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "purple", "dash": "dash", "width": 3}, "mode": "lines", "showlegend": false, "x": [0.6634870995897033, 0.154346406459808], "y": [0.636693228309634, -0.0], "z": [0.07330575432872981, -0.202721118927002], "type": "scatter3d"}], "layout": {"title": {"text": "Z5 (Z5) / trial 2 / index 4  |  offset=10 cm from TOP"}}, "name": "T2_I4", "traces": [8, 9, 10, 11, 12]}, {"data": [{"legendgroup": "Bat", "line": {"color": "black", "width": 4}, "mode": "lines", "showlegend": false, "x": [-0.785927653312683, 0.000732813030481339], "y": [0.208085089921951, 0.141828626394272], "z": [-0.0726245492696762, 0.0568970777094364], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "white", "line": {"color": "red", "width": 3}, "size": 10, "symbol": "circle"}, "mode": "markers", "showlegend": false, "x": [0.000732813030481339], "y": [0.141828626394272], "z": [0.0568970777094364], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "orange", "size": 7}, "mode": "markers", "showlegend": false, "x": [-0.6875951303673851], "y": [0.1998030349581419], "z": [-0.05643435171717835], "type": "scatter3d"}, {"legendgroup": "Ball", "marker": {"color": "blue", "size": 7, "symbol": "x"}, "mode": "markers", "showlegend": false, "x": [0.154346406459808], "y": [-0.0], "z": [-0.202721118927002], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "purple", "dash": "dash", "width": 3}, "mode": "lines", "showlegend": false, "x": [-0.6875951303673851, 0.154346406459808], "y": [0.1998030349581419, -0.0], "z": [-0.05643435171717835, -0.202721118927002], "type": "scatter3d"}], "layout": {"title": {"text": "Z5 (Z5) / trial 3 / index -6  |  offset=10 cm from TOP"}}, "name": "T3_I-6", "traces": [8, 9, 10, 11, 12]}, {"data": [{"legendgroup": "Bat", "line": {"color": "black", "width": 4}, "mode": "lines", "showlegend": false, "x": [-0.685789883136749, 0.081933468580246], "y": [0.112236320972443, 0.152939438819885], "z": [-0.155895426869392, 0.0653375163674355], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "white", "line": {"color": "red", "width": 3}, "size": 10, "symbol": "circle"}, "mode": "markers", "showlegend": false, "x": [0.081933468580246], "y": [0.152939438819885], "z": [0.0653375163674355], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "orange", "size": 7}, "mode": "markers", "showlegend": false, "x": [-0.5898244569557725], "y": [0.11732421108596945], "z": [-0.12824130688527016], "type": "scatter3d"}, {"legendgroup": "Ball", "marker": {"color": "blue", "size": 7, "symbol": "x"}, "mode": "markers", "showlegend": false, "x": [0.154346406459808], "y": [-0.0], "z": [-0.202721118927002], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "purple", "dash": "dash", "width": 3}, "mode": "lines", "showlegend": false, "x": [-0.5898244569557725, 0.154346406459808], "y": [0.11732421108596945, -0.0], "z": [-0.12824130688527016, -0.202721118927002], "type": "scatter3d"}], "layout": {"title": {"text": "Z5 (Z5) / trial 3 / index -5  |  offset=10 cm from TOP"}}, "name": "T3_I-5", "traces": [8, 9, 10, 11, 12]}, {"data": [{"legendgroup": "Bat", "line": {"color": "black", "width": 4}, "mode": "lines", "showlegend": false, "x": [-0.497540295124054, 0.16207879781723], "y": [-0.0163896679878235, 0.308648198843002], "z": [-0.177635908126831, 0.137408941984177], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "white", "line": {"color": "red", "width": 3}, "size": 10, "symbol": "circle"}, "mode": "markers", "showlegend": false, "x": [0.16207879781723], "y": [0.308648198843002], "z": [0.137408941984177], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "orange", "size": 7}, "mode": "markers", "showlegend": false, "x": [-0.415087922692586], "y": [0.024240058375556255], "z": [-0.13825530863851218], "type": "scatter3d"}, {"legendgroup": "Ball", "marker": {"color": "blue", "size": 7, "symbol": "x"}, "mode": "markers", "showlegend": false, "x": [0.154346406459808], "y": [-0.0], "z": [-0.202721118927002], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "purple", "dash": "dash", "width": 3}, "mode": "lines", "showlegend": false, "x": [-0.415087922692586, 0.154346406459808], "y": [0.024240058375556255, -0.0], "z": [-0.13825530863851218, -0.202721118927002], "type": "scatter3d"}], "layout": {"title": {"text": "Z5 (Z5) / trial 3 / index -4  |  offset=10 cm from TOP"}}, "name": "T3_I-4", "traces": [8, 9, 10, 11, 12]}, {"data": [{"legendgroup": "Bat", "line": {"color": "black", "width": 4}, "mode": "lines", "showlegend": false, "x": [-0.292012065649033, 0.183886960148811], "y": [-0.0830547735095024, 0.44061541557312], "z": [-0.193475186824799, 0.179740160703659], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "white", "line": {"color": "red", "width": 3}, "size": 10, "symbol": "circle"}, "mode": "markers", "showlegend": false, "x": [0.183886960148811], "y": [0.44061541557312], "z": [0.179740160703659], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "orange", "size": 7}, "mode": "markers", "showlegend": false, "x": [-0.23252468953052524], "y": [-0.017596002191821836], "z": [-0.1468232700355095], "type": "scatter3d"}, {"legendgroup": "Ball", "marker": {"color": "blue", "size": 7, "symbol": "x"}, "mode": "markers", "showlegend": false, "x": [0.154346406459808], "y": [-0.0], "z": [-0.202721118927002], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "purple", "dash": "dash", "width": 3}, "mode": "lines", "showlegend": false, "x": [-0.23252468953052524, 0.154346406459808], "y": [-0.017596002191821836, -0.0], "z": [-0.1468232700355095, -0.202721118927002], "type": "scatter3d"}], "layout": {"title": {"text": "Z5 (Z5) / trial 3 / index -3  |  offset=10 cm from TOP"}}, "name": "T3_I-3", "traces": [8, 9, 10, 11, 12]}, {"data": [{"legendgroup": "Bat", "line": {"color": "black", "width": 4}, "mode": "lines", "showlegend": false, "x": [-0.0550333857536316, 0.203911960124969], "y": [-0.0926110669970512, 0.538962006568909], "z": [-0.20980404317379, 0.207404091954231], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "white", "line": {"color": "red", "width": 3}, "size": 10, "symbol": "circle"}, "mode": "markers", "showlegend": false, "x": [0.203911960124969], "y": [0.538962006568909], "z": [0.207404091954231], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "orange", "size": 7}, "mode": "markers", "showlegend": false, "x": [-0.02266521416624119], "y": [-0.013664424624329721], "z": [-0.15765302088119376], "type": "scatter3d"}, {"legendgroup": "Ball", "marker": {"color": "blue", "size": 7, "symbol": "x"}, "mode": "markers", "showlegend": false, "x": [0.154346406459808], "y": [-0.0], "z": [-0.202721118927002], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "purple", "dash": "dash", "width": 3}, "mode": "lines", "showlegend": false, "x": [-0.02266521416624119, 0.154346406459808], "y": [-0.013664424624329721, -0.0], "z": [-0.15765302088119376, -0.202721118927002], "type": "scatter3d"}], "layout": {"title": {"text": "Z5 (Z5) / trial 3 / index -2  |  offset=10 cm from TOP"}}, "name": "T3_I-2", "traces": [8, 9, 10, 11, 12]}, {"data": [{"legendgroup": "Bat", "line": {"color": "black", "width": 4}, "mode": "lines", "showlegend": false, "x": [0.17652003467083, 0.142879471182823], "y": [-0.0549505352973938, 0.648353278636932], "z": [-0.157679468393326, 0.222099930047989], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "white", "line": {"color": "red", "width": 3}, "size": 10, "symbol": "circle"}, "mode": "markers", "showlegend": false, "x": [0.142879471182823], "y": [0.648353278636932], "z": [0.222099930047989], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "orange", "size": 7}, "mode": "markers", "showlegend": false, "x": [0.17231496533106036], "y": [0.03296241852612429], "z": [-0.11020705596387696], "type": "scatter3d"}, {"legendgroup": "Ball", "marker": {"color": "blue", "size": 7, "symbol": "x"}, "mode": "markers", "showlegend": false, "x": [0.154346406459808], "y": [-0.0], "z": [-0.202721118927002], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "purple", "dash": "dash", "width": 3}, "mode": "lines", "showlegend": false, "x": [0.17231496533106036, 0.154346406459808], "y": [0.03296241852612429, -0.0], "z": [-0.11020705596387696, -0.202721118927002], "type": "scatter3d"}], "layout": {"title": {"text": "Z5 (Z5) / trial 3 / index -1 (MIN)  |  offset=10 cm from TOP"}}, "name": "T3_I-1", "traces": [8, 9, 10, 11, 12]}, {"data": [{"legendgroup": "Bat", "line": {"color": "black", "width": 4}, "mode": "lines", "showlegend": false, "x": [0.17652003467083, 0.142879471182823], "y": [-0.0549505352973938, 0.648353278636932], "z": [-0.157679468393326, 0.222099930047989], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "white", "line": {"color": "red", "width": 3}, "size": 10, "symbol": "circle"}, "mode": "markers", "showlegend": false, "x": [0.142879471182823], "y": [0.648353278636932], "z": [0.222099930047989], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "orange", "size": 7}, "mode": "markers", "showlegend": false, "x": [0.17231496533106036], "y": [0.03296241852612429], "z": [-0.11020705596387696], "type": "scatter3d"}, {"legendgroup": "Ball", "marker": {"color": "blue", "size": 7, "symbol": "x"}, "mode": "markers", "showlegend": false, "x": [0.154346406459808], "y": [-0.0], "z": [-0.202721118927002], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "purple", "dash": "dash", "width": 3}, "mode": "lines", "showlegend": false, "x": [0.17231496533106036, 0.154346406459808], "y": [0.03296241852612429, -0.0], "z": [-0.11020705596387696, -0.202721118927002], "type": "scatter3d"}], "layout": {"title": {"text": "Z5 (Z5) / trial 3 / index 0  |  offset=10 cm from TOP"}}, "name": "T3_I0", "traces": [8, 9, 10, 11, 12]}, {"data": [{"legendgroup": "Bat", "line": {"color": "black", "width": 4}, "mode": "lines", "showlegend": false, "x": [0.40290579199791, 0.108246073126793], "y": [0.0635551512241364, 0.721866548061371], "z": [-0.114846222102642, 0.231278151273727], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "white", "line": {"color": "red", "width": 3}, "size": 10, "symbol": "circle"}, "mode": "markers", "showlegend": false, "x": [0.108246073126793], "y": [0.721866548061371], "z": [0.231278151273727], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "orange", "size": 7}, "mode": "markers", "showlegend": false, "x": [0.3660733365478751], "y": [0.14584405480808138], "z": [-0.07158068648278165], "type": "scatter3d"}, {"legendgroup": "Ball", "marker": {"color": "blue", "size": 7, "symbol": "x"}, "mode": "markers", "showlegend": false, "x": [0.154346406459808], "y": [-0.0], "z": [-0.202721118927002], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "purple", "dash": "dash", "width": 3}, "mode": "lines", "showlegend": false, "x": [0.3660733365478751, 0.154346406459808], "y": [0.14584405480808138, -0.0], "z": [-0.07158068648278165, -0.202721118927002], "type": "scatter3d"}], "layout": {"title": {"text": "Z5 (Z5) / trial 3 / index 1  |  offset=10 cm from TOP"}}, "name": "T3_I1", "traces": [8, 9, 10, 11, 12]}, {"data": [{"legendgroup": "Bat", "line": {"color": "black", "width": 4}, "mode": "lines", "showlegend": false, "x": [0.5920250415802, 0.0587738156318665], "y": [0.251650750637054, 0.776339590549469], "z": [-0.0514950677752495, 0.231955409049988], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "white", "line": {"color": "red", "width": 3}, "size": 10, "symbol": "circle"}, "mode": "markers", "showlegend": false, "x": [0.0587738156318665], "y": [0.776339590549469], "z": [0.231955409049988], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "orange", "size": 7}, "mode": "markers", "showlegend": false, "x": [0.5253686082119269], "y": [0.3172368852671261], "z": [-0.016063742159249342], "type": "scatter3d"}, {"legendgroup": "Ball", "marker": {"color": "blue", "size": 7, "symbol": "x"}, "mode": "markers", "showlegend": false, "x": [0.154346406459808], "y": [-0.0], "z": [-0.202721118927002], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "purple", "dash": "dash", "width": 3}, "mode": "lines", "showlegend": false, "x": [0.5253686082119269, 0.154346406459808], "y": [0.3172368852671261, -0.0], "z": [-0.016063742159249342, -0.202721118927002], "type": "scatter3d"}], "layout": {"title": {"text": "Z5 (Z5) / trial 3 / index 2  |  offset=10 cm from TOP"}}, "name": "T3_I2", "traces": [8, 9, 10, 11, 12]}, {"data": [{"legendgroup": "Bat", "line": {"color": "black", "width": 4}, "mode": "lines", "showlegend": false, "x": [0.689275324344635, -0.0251694768667221], "y": [0.421681880950928, 0.751440227031708], "z": [0.061297632753849, 0.205617338418961], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "white", "line": {"color": "red", "width": 3}, "size": 10, "symbol": "circle"}, "mode": "markers", "showlegend": false, "x": [-0.0251694768667221], "y": [0.751440227031708], "z": [0.205617338418961], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "orange", "size": 7}, "mode": "markers", "showlegend": false, "x": [0.5999697324422003], "y": [0.4629016704036332], "z": [0.07933759429567161], "type": "scatter3d"}, {"legendgroup": "Ball", "marker": {"color": "blue", "size": 7, "symbol": "x"}, "mode": "markers", "showlegend": false, "x": [0.154346406459808], "y": [-0.0], "z": [-0.202721118927002], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "purple", "dash": "dash", "width": 3}, "mode": "lines", "showlegend": false, "x": [0.5999697324422003, 0.154346406459808], "y": [0.4629016704036332, -0.0], "z": [0.07933759429567161, -0.202721118927002], "type": "scatter3d"}], "layout": {"title": {"text": "Z5 (Z5) / trial 3 / index 3  |  offset=10 cm from TOP"}}, "name": "T3_I3", "traces": [8, 9, 10, 11, 12]}, {"data": [{"legendgroup": "Bat", "line": {"color": "black", "width": 4}, "mode": "lines", "showlegend": false, "x": [0.730632066726685, -0.0623906962573528], "y": [0.661826252937317, 0.74003279209137], "z": [0.117381267249584, 0.188085526227951], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "white", "line": {"color": "red", "width": 3}, "size": 10, "symbol": "circle"}, "mode": "markers", "showlegend": false, "x": [-0.0623906962573528], "y": [0.74003279209137], "z": [0.188085526227951], "type": "scatter3d"}, {"legendgroup": "Bat", "marker": {"color": "orange", "size": 7}, "mode": "markers", "showlegend": false, "x": [0.6315042567930255], "y": [0.6716020668366064], "z": [0.12621929646218163], "type": "scatter3d"}, {"legendgroup": "Ball", "marker": {"color": "blue", "size": 7, "symbol": "x"}, "mode": "markers", "showlegend": false, "x": [0.154346406459808], "y": [-0.0], "z": [-0.202721118927002], "type": "scatter3d"}, {"legendgroup": "Bat", "line": {"color": "purple", "dash": "dash", "width": 3}, "mode": "lines", "showlegend": false, "x": [0.6315042567930255, 0.154346406459808], "y": [0.6716020668366064, -0.0], "z": [0.12621929646218163, -0.202721118927002], "type": "scatter3d"}], "layout": {"title": {"text": "Z5 (Z5) / trial 3 / index 4  |  offset=10 cm from TOP"}}, "name": "T3_I4", "traces": [8, 9, 10, 11, 12]}]};
    const trialInfo = {"1": [{"name": "T1_I-6", "index": -6}, {"name": "T1_I-5", "index": -5}, {"name": "T1_I-4", "index": -4}, {"name": "T1_I-3", "index": -3}, {"name": "T1_I-2", "index": -2}, {"name": "T1_I-1", "index": -1}, {"name": "T1_I0", "index": 0}, {"name": "T1_I1", "index": 1}, {"name": "T1_I2", "index": 2}, {"name": "T1_I3", "index": 3}, {"name": "T1_I4", "index": 4}], "2": [{"name": "T2_I-6", "index": -6}, {"name": "T2_I-5", "index": -5}, {"name": "T2_I-4", "index": -4}, {"name": "T2_I-3", "index": -3}, {"name": "T2_I-2", "index": -2}, {"name": "T2_I-1", "index": -1}, {"name": "T2_I0", "index": 0}, {"name": "T2_I1", "index": 1}, {"name": "T2_I2", "index": 2}, {"name": "T2_I3", "index": 3}, {"name": "T2_I4", "index": 4}], "3": [{"name": "T3_I-6", "index": -6}, {"name": "T3_I-5", "index": -5}, {"name": "T3_I-4", "index": -4}, {"name": "T3_I-3", "index": -3}, {"name": "T3_I-2", "index": -2}, {"name": "T3_I-1", "index": -1}, {"name": "T3_I0", "index": 0}, {"name": "T3_I1", "index": 1}, {"name": "T3_I2", "index": 2}, {"name": "T3_I3", "index": 3}, {"name": "T3_I4", "index": 4}]};  // { trial: [{name, index}, ...], ... }
    let currentTrial = "1";  // 文字列として扱う

    document.addEventListener("DOMContentLoaded", function() {
      const plotDiv = document.getElementById("plot");
      const slider = document.getElementById("frameSlider");
      const frameLabel = document.getElementById("frameLabel");

      // Plot を生成
      Plotly.newPlot(plotDiv, fig.data, fig.layout, {responsive: true}).then(function(gd) {
        // frames を追加
        Plotly.addFrames(gd, fig.frames);

        // Trial ボタンにイベントを付与
        Object.keys(trialInfo).forEach(function(trialKey) {
          const btn = document.getElementById("trialBtn_" + trialKey);
          if (!btn) return;
          btn.addEventListener("click", function() {
            // active クラス切り替え
            document.querySelectorAll(".trial-btn").forEach(b => b.classList.remove("active"));
            btn.classList.add("active");

            currentTrial = trialKey;
            updateSliderForTrial(gd, currentTrial);
          });
        });

        // スライダー操作でフレーム更新
        slider.addEventListener("input", function(e) {
          const idxInTrial = parseInt(slider.value);
          updateFrameForCurrentTrial(gd, idxInTrial);
        });

        // 初期 Trial ボタンを active に
        const initBtn = document.getElementById("trialBtn_1");
        if (initBtn) {
          initBtn.classList.add("active");
        }

        // 初期表示
        updateSliderForTrial(gd, currentTrial);

        // ===== 関数群 =====
        function updateSliderForTrial(gd, trialKey) {
          const framesForTrial = trialInfo[trialKey];
          if (!framesForTrial || framesForTrial.length === 0) return;

          slider.min = 0;
          slider.max = framesForTrial.length - 1;
          slider.value = 0;

          updateFrame(gd, trialKey, 0);
        }

        function updateFrameForCurrentTrial(gd, idxInTrial) {
          updateFrame(gd, currentTrial, idxInTrial);
        }

        function updateFrame(gd, trialKey, idxInTrial) {
          const framesForTrial = trialInfo[trialKey];
          if (!framesForTrial || framesForTrial.length === 0) return;

          const clampedIdx = Math.max(0, Math.min(idxInTrial, framesForTrial.length - 1));
          const frameInfo = framesForTrial[clampedIdx];
          const frameName = frameInfo.name;
          const indexValue = frameInfo.index;

          Plotly.animate(gd, [frameName], {
            mode: "immediate",
            frame: {duration: 0, redraw: true},
            transition: {duration: 0}
          });

          frameLabel.textContent = "Trial " + trialKey + " / frame index = " + indexValue + " (step " + clampedIdx + ")";
        }
      });
    });
  </script>
</body>
</html>
